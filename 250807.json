[
  {
    "bookSourceGroup": "API",
    "bookSourceName": "红果短剧(鬼鬼)",
    "bookSourceType": 0,
    "bookSourceUrl": "红果短剧\n接口来源:笒鬼鬼\n书源:HMuSeaB\n2025-8-5",
    "customOrder": 3,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "jsLib": "function api() {\n return \"https://api.cenguigui.cn/api/duanju/api.php?\"\n}",
    "lastUpdateTime": 1754491228953,
    "respondTime": 180000,
    "ruleBookInfo": {
      "tocUrl": "<js>bookUrl=api()+\"book_id={{$.book_id}}\"</js>"
    },
    "ruleContent": {
      "content": "<js>\n    var video_url = JSON.parse(result).data.url;\n    java.log(video_url)\n    var b64 = java['base64Encode'](`\n    <html>\n\n    <head>\n        <title>${chapter.title}</title>\n        <meta name=\"viewport\" content=\"width=device-width\">\n        <style>\n            body {\n                margin: 0;\n                font-family: Arial, sans-serif;\n                background: linear-gradient(135deg, #ece9e6, #ffffff);\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: flex-start;\n                padding: 20px;\n            }\n\n            .container {\n                width: 100%;\n                max-width: 800px;\n                background: #fff;\n                border-radius: 10px;\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n                overflow: hidden;\n                margin-bottom: 20px;\n            }\n\n            h3 {\n                margin: 0;\n                padding: 10px 20px;\n                font-size: 0.9em;\n                background: #333;\n                color: #fff;\n                border-radius: 10px 10px 0 0;\n            }\n\n            .video-container {\n                width: 100%;\n                background: #000;\n                position: relative;\n            }\n\n            video {\n                width: 100%;\n                height: auto;\n                display: block;\n            }\n\n            .info-container {\n                padding: 20px;\n            }\n\n            .info-container p {\n                margin: 10px 0;\n                color: #555;\n            }\n\n            .info-container p span {\n                font-weight: bold;\n                color: #000;\n            }\n        </style>\n    </head>\n\n    <body>\n        <div class=\"container\">\n            <h3>{{book.name}}</h3>\n            <div class=\"video-container\">\n                <video id=\"video\" src=\"${video_url}\" controls></video>\n            </div>\n        </div>\n        <script>\n            // 获取视频元素\n            const video = document.getElementById('video');\n            let touchStartX = 0;\n            let touchStartY = 0;\n            let touchStartTime = 0;\n            let isLongPress = false;\n            // 滑动快进\n            video.addEventListener('touchstart', (e) => {\n                touchStartX = e.touches[0].clientX;\n                touchStartY = e.touches[0].clientY;\n                touchStartTime = Date.now();\n                isLongPress = false;\n            });\n            video.addEventListener('touchmove', (e) => {\n                const deltaX = e.touches[0].clientX - touchStartX;\n                const deltaY = e.touches[0].clientY - touchStartY;\n                // 如果是水平滑动，且未进入长按状态\n                if (Math.abs(deltaX) > Math.abs(deltaY) && !isLongPress) {\n                    const duration = video.duration;\n                    const seekTime = video.currentTime + (deltaX / 50); // 每滑动100px快进1秒\n                    video.currentTime = Math.min(Math.max(seekTime, 0), duration);\n                }\n                e.preventDefault(); // 防止默认行为（如页面滚动）\n            });\n            // 长按快进\n            video.addEventListener('touchend', (e) => {\n                const touchEndTime = Date.now();\n                const touchDuration = touchEndTime - touchStartTime;\n                // 如果长按时间超过500ms，进入长按快进状态\n                if (touchDuration > 500) {\n                    isLongPress = true;\n                    // 在长按状态下，根据滑动距离快进\n                    const deltaX = e.changedTouches[0].clientX - touchStartX;\n                    const duration = video.duration;\n                    const seekTime = video.currentTime + (deltaX / 100); // 每滑动100px快进1秒\n                    video.currentTime = Math.min(Math.max(seekTime, 0), duration);\n                }\n                else {\n                    isLongPress = false;\n                }\n            });\n        </script>\n    </body>\n\n    </html> `);\n    baseUrl = 'data:text/html;base64,' + b64;\n    java.startBrowser(baseUrl,chapter.title);\n    java['toast']('正在加载视频\\n视频加载较慢，请耐心等待');'【刷新正文】播放\\n✅直链:\\n' +`${video_url}`;\n</js>"
    },
    "ruleExplore": {},
    "ruleSearch": {
      "author": "author",
      "bookList": "data",
      "bookUrl": "<js>bookUrl=api() +\"&book_id={{$.book_id}}\"</js>",
      "checkKeyWord": "乖乖女",
      "coverUrl": "cover",
      "intro": "intro",
      "kind": "type",
      "name": "title"
    },
    "ruleToc": {
      "chapterList": "$.data",
      "chapterName": "$.title",
      "chapterUrl": "<js>bookUrl=api()+\"video_id={{$.video_id}}\"</js>"
    },
    "searchUrl": "<js>url = api() +\"name={{key}}&page={{page}}\"</js>",
    "weight": 0
  }
]
